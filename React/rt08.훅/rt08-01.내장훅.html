<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport"
      content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible"
      content="ie=edge" />
    <title>중요 훅</title>
    <link rel="stylesheet"
      href="../css/reset.css" />
    <style>
      .red {
        font-weight: bold;
        color: red;
      }

      .bold {
        font-weight: bold;
      }
    </style>
  </head>
  <body>
    <div>
      <div>
        <div>
          <h3>hook이 뭔가요?</h3>
          <p>
            hook은 함수 컴포넌트에서 state와 생명주기(lifecycle)을 "연동(hook into)"할 수 있게 해주는 함수입니다.
            <br />
            hook은 함수형 컴포넌트 안에서만 동작합니다.
          </p>
        </div>

        <div>내장 훅</div>

        <table style="border-collapse:collapse;min-width:100%"
          width="1127px">
          <colgroup>
            <col style="width:75px">
            <col style="width:146px">
            <col style="width:485px">
            <col style="width:399px">
          </colgroup>
          <tbody>
            <tr>
              <td>
                <p>구분</p>
              </td>
              <td>
                <p>이름</p>
              </td>
              <td>
                <p>설명</p>
              </td>
              <td>
                <p>사용법</p>
              </td>
            </tr>
            <tr>
              <td rowspan="10">
                <p>react 훅</p>
              </td>
              <td>
                <p class="bold red">useState (★)</p>
              </td>
              <td>
                <li class="bold">상태값(변수)의 get / set</li>
                <li>기본 타입 상태값 vs 참조 타입 상태값</li>
              </td>
              <td>
                <p>const [count, setCount] = useState(0);</p>
              </td>
            </tr>
            <tr>
              <td>
                <p class="bold red">useCallback (★)</p>
              </td>
              <td>
                <li class="bold">콜백 메서드 작성할 때 주로 사용.</li>
                <li class="bold">함수의 재생성 방지할 때 사용. ==> 함수의 재사용</li>
                <p>
                  inline 함수 는 컴포넌트가 렌더링 될 때마다 새로 만들어지게 되서 불필요한 렌더링이 발생하는데 useCallback 를
                  사용하면 불필요한 렌더링을 방지할 수 있다
                </p>
                <dl>
                  <dt>사용 목적</dt>
                  <dd>중복 코드 제거</dd>
                  <dd>중복 생성 방지</dd>
                </dl>
              </td>
              <td></td>
            </tr>
            <tr>
              <td>
                <p class="bold red">useEffect (★)</p>
              </td>
              <td>
                <li class="bold">부수 효과 처리</li>
                <li class="bold">생명 주기 처리시 사용</li>
                <p>부수 효과란 함수 외부의 데이터를 변경하는 연산으로 real dom 에 반영된 후 비동기로 호출</p>
                <dl>
                  <dt>부수 효과 처리 사용 예시</dt>
                  <dd>이벤트 핸들러 등록 및 해제</dd>
                  <dd>외부 API 호출</dd>
                </dl>
                <p>의존성 배열 있으나 사용하지 말자</p>
              </td>
              <td>
                <p>코드 4-28</p>
              </td>
            </tr>
            <tr>
              <td>
                <p class="bold red">useRef (★)</p>
              </td>
              <td>
                <li class="bold">real dom 직접 접근시</li>
                <li class="bold">렌더링과 무관한 변수 사용시</li>
                <span>렌더링과 무관한 함수나 변수는 useRef 로 저장하라</span>
                <dl>
                  <dt>dom 직접 접근 사용 예시</dt>
                  <dd>focus</dd>
                  <dd>스크롤</dd>
                </dl>
              </td>
              <td>
                <p>코드 4-28</p>
              </td>
            </tr>
            <tr>
              <td>
                <p class="bold red">useMemo (★)</p>
              </td>
              <td>
                <li class="bold">값의 재사용</li>
              </td>
              <td>&nbsp;</td>
            </tr>
            <tr>
              <td>
                <p>useContext</p>
              </td>
              <td>
                Context 데이터를 처리하는 훅 <br />
                Consumer 컴포넌트 없이 Context 사용하기
              </td>
              <td>&nbsp;</td>
            </tr>
            <tr>
              <td>
                <p>useReducer</p>
              </td>
              <td>
                <p>상태값 처리.</p>
                <p>참조 타입(객체 또는 배열)인 상태값.</p>
              </td>
              <td>
                <p>const [state, setState] = useState({ name: "se", age: 0 });</p>
                <p>코드 4-33</p>
              </td>
            </tr>
            <tr>
              <td>
                <p>useImperavtiveHandle</p>
              </td>
              <td>
                &nbsp;
              </td>
              <td>
                &nbsp;
              </td>
            </tr>
            <tr>
              <td>
                <p>useLayoutEffect</p>
              </td>
              <td>
                동기식 useEffect
              </td>
              <td>
                &nbsp;
              </td>
            </tr>
            <tr>
              <td>
                <p>useDebugValue</p>
              </td>
              <td>
                &nbsp;
              </td>
              <td>
                &nbsp;
              </td>
            </tr>
            <tr>
              <td rowspan="2">
                <p>redux 훅</p>
              </td>
              <td>
                <p class="bold red">useDispatch (★)</p>
              </td>
              <td>
                dispatch 메서드를 가져온다
              </td>
              <td>
                const dispatch = useDispatch();
                useEffect(() => { dispatch({ type: Action }) }, [dispatch]);
              </td>
            </tr>
            <tr>
              <td>
                <p class="bold red">useSelect (★)</p>
              </td>
              <td>
                store에서 state 를 가져오는 훅
              </td>
              <td>
                const value = useSelector(state => state.value);
              </td>
            </tr>
            <tr>
              <td rowspan="4">
                <p>router 훅</p>
              </td>
              <td>
                <p class="bold red">useParams (★)</p>
              </td>
              <td>
                <p>URL Parameter </p>
                <p>match.params 객체에 접근할 수 있는 hook</p>
              </td>
              <td>
                &nbsp;
              </td>
            </tr>
            <tr>
              <td>
                <p class="bold red">useLocation (★)</p>
              </td>
              <td>
                <p>location 객체에 접근할 수 있는 hook</p>
              </td>
              <td>
                &nbsp;
              </td>
            </tr>
            <tr>
              <td>
                <p>useHistory</p>
              </td>
              <td>
                <p>history 객체에 접근할 수 있는 hook</p>
              </td>
              <td>
                &nbsp;
              </td>
            </tr>
            <tr>
              <td>
                <p>useRouteMatch</p>
              </td>
              <td>
                <p> match 객체에 접근할 수 있는 hook</p>
              </td>
              <td>
                &nbsp;
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>

    <div>
      <h3>사용자 훅:</h3>
      <div>이름이 use 로 시작하로록 명명</div>
    </div>
    <div>
      <h3>훅 사용시 규칙</h3>
      <div>
        <ol>
          <li>하나의 컴포넌트에서 혹을 호출하는 순서는 항상 같아야 한다.</li>
          <li>훅은 함수형 컴포넌트 또는 커스텀 훅 안에서 호출되어야 한다.</li>
        </ol>
      </div>
    </div>
    <div>
      <h3>함수형 컴포넌트에서 불필요한 렌더링을 막아라</h3>
      <div>
        <ol>
          <li>
            useEffect 사용해서
          </li>
          <li>
            useRef 사용해서
          </li>
          <li>
            useReducer 사용해서
          </li>
        </ol>
      </div>
    </div>
    <div>
      <h3>useEffect 에 의존성 배열 있으나 사용하지 말자.</h3>
      <ol>
        <li>
          <div>useEffect() 안에서 if 문 사용하여 연관 배열을 대체 할 수 있다.</div>
        </li>
      </ol>
    </div>
  </body>
</html>
